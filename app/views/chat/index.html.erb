<%# <div class="row">
  <div class="col-12">
    <div class="message_container"> %>
      <%#= render partial: "message.html.erb", locals: {messages: "" } %>
    <%# </div>
    <div class="form_container"> %>
      <%#= render partial: "form.html.erb", locals: {messages: "" } %>
    <%# </div>
  </div>
</div> %>
<div class="botui-app-container" id="hello-world">
  <bot-ui></bot-ui>
  <input type="hidden" name="conversation_id"  id ="conversation_id" value=<%= @conversation_id %>>
</div>
<script>
 var botui = new BotUI('hello-world');
 // wait till its shown
    <% @messages.each do |message| %>
      <% if message.message_by == 'user' %>
         botui.message.add({
          human: true,
          content: "<%= message.content %>",
        });
      <% else %>
        botui.message.add({
          content: "<%= message.content %>"
        });
      <% end  %>
    <% end %>
    // botui.action.text({
    //   human: true, // show 'text' action
    //   action: {
    //     placeholder: 'Your name'
    //   }
    // });

    botui.action.button({
      action: [
        { // show only one button
          text: 'continue chatting',
          value: 'continue chatting'
        }
      ]
    }).then(function(res){
        message = res.value;
        message_by = 'user'
        data = []
        conversation_id = $("#conversation_id").val();
        data.push({message: message, message_by: message_by, conversation_id: conversation_id})
        var values = data
        App.conversation.speak(values);
        // $(this).trigger('reset');
    });
</script>